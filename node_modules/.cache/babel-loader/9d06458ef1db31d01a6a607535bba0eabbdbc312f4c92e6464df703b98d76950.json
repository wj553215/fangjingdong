{"ast":null,"code":"import { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    // 第一层级是商铺的id\n    // shopId: {\n    // 第二层是商品id\n    // 第二层内容是商品内容以及购物数量\n    //   productId: {\n    //     _id: '1',\n    //     name: '番茄250g/份',\n    //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n    //     sales: 10,\n    //     price: 33.6,\n    //     oldPrice: 39.6,\n    //     count: 2\n    //   },\n    // },\n  },\n  mutations: {\n    addItemToCart(state, payload) {\n      const {\n        shopId,\n        productId,\n        productInfo\n      } = payload;\n      let shopInfo = state.cartList[shopId];\n      if (!shopInfo) {\n        shopInfo = {};\n      }\n      let product = shopInfo[productId];\n      if (!product) {\n        product = productInfo;\n        product.count = 0;\n      }\n      product.count += 1;\n      shopInfo[productId] = product;\n      state.cartList[shopId] = shopInfo;\n    }\n  },\n  actions: {},\n  modules: {}\n});","map":{"version":3,"names":["createStore","state","mutations","addItemToCart","payload","shopId","productId","productInfo","shopInfo","cartList","product","count","actions","modules"],"sources":["D:/WEB/project/jingdong/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\n\nexport default createStore({\n  state: {\n          // 第一层级是商铺的id\n      // shopId: {\n        // 第二层是商品id\n        // 第二层内容是商品内容以及购物数量\n      //   productId: {\n      //     _id: '1',\n      //     name: '番茄250g/份',\n      //     imgUrl: 'http://www.dell-lee.com/imgs/vue3/tomato.png',\n      //     sales: 10,\n      //     price: 33.6,\n      //     oldPrice: 39.6,\n      //     count: 2\n      //   },\n      // },\n  },\n\nmutations: {\n  addItemToCart(state, payload) {\n    const { shopId, productId, productInfo } = payload;\n    let shopInfo = state.cartList[shopId]\n    if(!shopInfo) { shopInfo = {} }\n    let product = shopInfo[productId]\n    if(!product) {\n      product = productInfo\n      product.count = 0\n    }\n    product.count += 1\n    shopInfo[productId] = product\n    state.cartList[shopId] = shopInfo\n  }\n},\n  actions: {\n  },\n  modules: {\n  }\n})\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAElC,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACC;IACJ;IACE;IACA;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA,CACH;EAEHC,SAAS,EAAE;IACTC,aAAaA,CAACF,KAAK,EAAEG,OAAO,EAAE;MAC5B,MAAM;QAAEC,MAAM;QAAEC,SAAS;QAAEC;MAAY,CAAC,GAAGH,OAAO;MAClD,IAAII,QAAQ,GAAGP,KAAK,CAACQ,QAAQ,CAACJ,MAAM,CAAC;MACrC,IAAG,CAACG,QAAQ,EAAE;QAAEA,QAAQ,GAAG,CAAC,CAAC;MAAC;MAC9B,IAAIE,OAAO,GAAGF,QAAQ,CAACF,SAAS,CAAC;MACjC,IAAG,CAACI,OAAO,EAAE;QACXA,OAAO,GAAGH,WAAW;QACrBG,OAAO,CAACC,KAAK,GAAG,CAAC;MACnB;MACAD,OAAO,CAACC,KAAK,IAAI,CAAC;MAClBH,QAAQ,CAACF,SAAS,CAAC,GAAGI,OAAO;MAC7BT,KAAK,CAACQ,QAAQ,CAACJ,MAAM,CAAC,GAAGG,QAAQ;IACnC;EACF,CAAC;EACCI,OAAO,EAAE,CACT,CAAC;EACDC,OAAO,EAAE,CACT;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}